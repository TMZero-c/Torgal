<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self'; style-src 'self' 'unsafe-inline';">
    <title>Preferences</title>
    <link rel="stylesheet" href="styles/preferences.css">
</head>

<body>
    <h1>Preferences</h1>

    <!-- Tabs (generated dynamically) -->
    <div class="tabs" id="tabs"></div>

    <!-- Tab content containers (generated dynamically) -->
    <div id="tab-content"></div>

    <!-- Templates for custom sections (IDs match schema custom values) -->

    <!-- No CUDA notice (shown dynamically when CUDA unavailable) -->
    <template id="template-no-cuda-notice">
        <div class="ui-callout ui-callout--warning" id="no-cuda-notice">
            <strong>CUDA not available.</strong> GPU options are hidden.<br>
            <span class="notice-detail">GPU acceleration requires an NVIDIA GPU with CUDA drivers. AMD and Intel GPUs are not supported.</span>
        </div>
    </template>

    <!-- Model cache section (custom: 'modelCache') -->
    <template id="template-modelCache">
        <div class="section">
            <h2>Model Cache</h2>
            <div class="form-group">
                <label>Cache Location</label>
                <div class="inline-group">
                    <input type="text" id="modelCachePath" readonly class="ui-input readonly-input">
                    <button class="ui-button ui-button--secondary" id="openCacheFolder">Open Folder</button>
                </div>
                <div class="help-text">Models are downloaded here automatically on first use</div>
            </div>
            <div class="form-group">
                <button class="ui-button ui-button--secondary" id="clearCache">Clear Model Cache</button>
                <div class="help-text">Free up disk space by removing cached models (will re-download on next use)</div>
            </div>
        </div>
    </template>

    <!-- Reset section (custom: 'resetDefaults') -->
    <template id="template-resetDefaults">
        <div class="section">
            <h2>Reset</h2>
            <button class="ui-button ui-button--secondary" id="resetDefaults">Reset All to Defaults</button>
        </div>
    </template>

    <script src="prefs-schema.js"></script>
    <script src="preferences.js"></script>
</body>

</html>